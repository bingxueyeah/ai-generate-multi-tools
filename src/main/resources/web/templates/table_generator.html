<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®è¡¨æ ¼ç”Ÿæˆå™¨</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .content { padding: 40px; }
        .input-section { margin-bottom: 30px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        textarea, input { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; transition: border-color 0.3s; }
        textarea:focus, input:focus { outline: none; border-color: #667eea; }
        textarea { min-height: 150px; resize: vertical; }
        button { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
        button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
        button:active { transform: translateY(0); }
        .button-group { display: flex; gap: 10px; flex-wrap: wrap; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
        th, td { padding: 12px; text-align: left; border: 1px solid #e0e0e0; }
        th { background: #f5f5f5; font-weight: 600; color: #333; }
        tr:hover { background: #f9f9f9; }
        .table-container { overflow-x: auto; margin-top: 20px; }
        .instructions { background: #f0f4ff; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .instructions h3 { color: #667eea; margin-bottom: 10px; }
        .instructions ul { margin-left: 20px; color: #666; }
        .instructions li { margin-bottom: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š æ•°æ®è¡¨æ ¼ç”Ÿæˆå™¨</h1>
            <p>å¿«é€Ÿå°†æ•°æ®è½¬æ¢ä¸ºç¾è§‚çš„è¡¨æ ¼</p>
        </div>
        <div class="content">
            <div class="instructions">
                <h3>ä½¿ç”¨è¯´æ˜</h3>
                <ul>
                    <li>åœ¨ä¸‹æ–¹è¾“å…¥æ•°æ®ï¼Œæ¯è¡Œä¸€æ¡è®°å½•ï¼Œç”¨é€—å·ã€åˆ¶è¡¨ç¬¦æˆ–ç«–çº¿åˆ†éš”å­—æ®µ</li>
                    <li>ç¬¬ä¸€è¡Œå¯ä»¥ä½œä¸ºè¡¨å¤´ï¼ˆåˆ—åï¼‰</li>
                    <li>ç‚¹å‡»"ç”Ÿæˆè¡¨æ ¼"æŒ‰é’®å³å¯æŸ¥çœ‹ç»“æœ</li>
                    <li>å¯ä»¥ä¸‹è½½ä¸ºHTMLæ ¼å¼</li>
                </ul>
            </div>
            <div class="input-section">
                <div class="input-group">
                    <label for="dataInput">è¾“å…¥æ•°æ®ï¼š</label>
                    <textarea id="dataInput" placeholder="ä¾‹å¦‚ï¼šå§“å,å¹´é¾„,åŸå¸‚,èŒä¸š\nå¼ ä¸‰,25,åŒ—äº¬,å·¥ç¨‹å¸ˆ\næå››,30,ä¸Šæµ·,è®¾è®¡å¸ˆ\nç‹äº”,28,å¹¿å·,äº§å“ç»ç†"></textarea>
                </div>
                <div class="input-group">
                    <label for="separator">åˆ†éš”ç¬¦ï¼š</label>
                    <select id="separator" style="padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; width: 200px;">
                        <option value=",">é€—å· (,)</option>
                        <option value="\t">åˆ¶è¡¨ç¬¦</option>
                        <option value="|">ç«–çº¿ (|)</option>
                        <option value=";">åˆ†å· (;)</option>
                    </select>
                </div>
                <div class="button-group">
                    <button onclick="generateTable()">ç”Ÿæˆè¡¨æ ¼</button>
                    <button onclick="exportHTML()" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">ä¸‹è½½HTML</button>
                    <button onclick="clearAll()" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">æ¸…ç©º</button>
                </div>
            </div>
            <div class="table-container" id="tableContainer"></div>
        </div>
    </div>
    <script>
        let tableData = [];
        function generateTable() {
            const input = document.getElementById('dataInput').value.trim();
            const separator = document.getElementById('separator').value;
            if (!input) { alert('è¯·è¾“å…¥æ•°æ®ï¼'); return; }
            const lines = input.split('\n').filter(line => line.trim());
            if (lines.length === 0) { alert('æ•°æ®ä¸èƒ½ä¸ºç©ºï¼'); return; }
            let sep = separator === '\t' ? '\t' : separator;
            tableData = lines.map(line => line.split(sep).map(cell => cell.trim()));
            const hasHeader = tableData.length > 1;
            const headers = hasHeader ? tableData[0] : tableData[0].map((_, i) => `åˆ—${i + 1}`);
            const rows = hasHeader ? tableData.slice(1) : [];
            let html = '<table><thead><tr>';
            headers.forEach(header => { html += `<th>${escapeHtml(header)}</th>`; });
            html += '</tr></thead><tbody>';
            if (hasHeader && rows.length === 0) {
                html += '<tr><td colspan="' + headers.length + '" style="text-align: center; color: #999;">æš‚æ— æ•°æ®</td></tr>';
            } else {
                (hasHeader ? rows : tableData).forEach(row => {
                    html += '<tr>';
                    headers.forEach((_, i) => { html += `<td>${escapeHtml(row[i] || '')}</td>`; });
                    html += '</tr>';
                });
            }
            html += '</tbody></table>';
            document.getElementById('tableContainer').innerHTML = html;
        }
        function sanitizeFilename(str) {
            return str.replace(/[<>:"/\\|?*]/g, '_').replace(/\s+/g, '_').substring(0, 30);
        }
        function exportHTML() {
            if (tableData.length === 0) { alert('è¯·å…ˆç”Ÿæˆè¡¨æ ¼ï¼'); return; }
            const hasHeader = tableData.length > 1;
            const headers = hasHeader ? tableData[0] : tableData[0].map((_, i) => `åˆ—${i + 1}`);
            const rows = hasHeader ? tableData.slice(1) : tableData;
            let tableHtml = '<table style="width: 100%; border-collapse: collapse; margin: 20px 0;"><thead><tr>';
            headers.forEach(header => { tableHtml += `<th style="padding: 12px; text-align: left; border: 1px solid #e0e0e0; background: #f5f5f5; font-weight: 600;">${escapeHtml(header)}</th>`; });
            tableHtml += '</tr></thead><tbody>';
            rows.forEach(row => {
                tableHtml += '<tr>';
                headers.forEach((_, i) => { tableHtml += `<td style="padding: 12px; text-align: left; border: 1px solid #e0e0e0;">${escapeHtml(row[i] || '')}</td>`; });
                tableHtml += '</tr>';
            });
            tableHtml += '</tbody></table>';
            const htmlContent = '<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>æ•°æ®è¡¨æ ¼</title>\n<style>body { font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif; padding: 20px; background: #f5f5f5; } .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); } h1 { color: #333; margin-bottom: 20px; }</style>\n</head>\n<body>\n<div class="container">\n<h1>æ•°æ®è¡¨æ ¼</h1>\n' + tableHtml + '\n</div>\n</body>\n</html>';
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            const now = new Date();
            const timestamp = now.getFullYear() + String(now.getMonth() + 1).padStart(2, '0') + String(now.getDate()).padStart(2, '0') + '_' + String(now.getHours()).padStart(2, '0') + String(now.getMinutes()).padStart(2, '0') + String(now.getSeconds()).padStart(2, '0');
            let filename = 'æ•°æ®è¡¨æ ¼';
            if (headers.length > 0 && headers[0] && headers[0].trim()) {
                filename = sanitizeFilename(headers[0].trim());
            }
            filename = filename + '_' + timestamp + '.html';
            link.download = filename;
            link.click();
        }
        function clearAll() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ•°æ®å—ï¼Ÿ')) {
                document.getElementById('dataInput').value = '';
                document.getElementById('tableContainer').innerHTML = '';
                tableData = [];
            }
        }
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('dataInput').value = 'å§“å,å¹´é¾„,åŸå¸‚,èŒä¸š\nå¼ ä¸‰,25,åŒ—äº¬,å·¥ç¨‹å¸ˆ\næå››,30,ä¸Šæµ·,è®¾è®¡å¸ˆ\nç‹äº”,28,å¹¿å·,äº§å“ç»ç†';
        });
    </script>
</body>
</html>
